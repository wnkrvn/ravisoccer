<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <title>Werneck Faltas</title>
  <style>
    body { margin:0; background:#0b6623; display:flex; justify-content:center; align-items:center; height:100vh; }
    canvas { background:#3a5f0b; border:2px solid #fff; border-radius:12px; }
  </style>
</head>
<body>
<canvas id="gameCanvas" width="480" height="640"></canvas>
<script>
const canvas = document.getElementById("gameCanvas");
const ctx = canvas.getContext("2d");

let ball = { x:240, y:580, r:10, vx:0, vy:0, moving:false };
let dragging = false, startX, startY;

let goal = { x:140, y:50, w:200, h:10 };
let keeper = { x:230, y:60, w:40, h:40, dir:2 };

function drawGoal(){
  ctx.fillStyle="white";
  ctx.fillRect(goal.x,goal.y,goal.w,goal.h);
}
function drawKeeper(){
  ctx.fillStyle="red";
  ctx.fillRect(keeper.x,keeper.y,keeper.w,keeper.h);
}
function drawBall(){
  ctx.beginPath();
  ctx.arc(ball.x,ball.y,ball.r,0,Math.PI*2);
  ctx.fillStyle="white";
  ctx.fill();
  ctx.closePath();
}

canvas.addEventListener("mousedown", e=>{
  dragging=true; startX=e.offsetX; startY=e.offsetY;
});
canvas.addEventListener("mouseup", e=>{
  if(dragging){
    let dx = startX-e.offsetX;
    let dy = startY-e.offsetY;
    ball.vx = -dx/10;
    ball.vy = -dy/10;
    ball.moving=true;
  }
  dragging=false;
});

function update(){
  ctx.clearRect(0,0,canvas.width,canvas.height);
  drawGoal();
  drawKeeper();
  drawBall();
  if(ball.moving){
    ball.x+=ball.vx; ball.y+=ball.vy;
    if(ball.x-ball.r<0||ball.x+ball.r>canvas.width) ball.vx*=-1;
    if(ball.y-ball.r<0){
      ball.moving=false;
      alert("GOL!!!");
      reset();
    }
    if(ball.y+ball.r>canvas.height){ ball.moving=false; reset(); }
    if(ball.x>keeper.x && ball.x<keeper.x+keeper.w && ball.y-ball.r<keeper.y+keeper.h && ball.y+ball.r>keeper.y){
      ball.moving=false; alert("DEFENDEU!"); reset();
    }
  }
  keeper.x+=keeper.dir;
  if(keeper.x<goal.x || keeper.x+keeper.w>goal.x+goal.w) keeper.dir*=-1;
  requestAnimationFrame(update);
}

function reset(){
  ball.x=240; ball.y=580; ball.vx=0; ball.vy=0; ball.moving=false;
}
update();
</script>
</body>
</html>
